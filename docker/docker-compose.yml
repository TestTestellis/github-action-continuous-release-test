---
version: "3.9"
services:
  pihole:
    # yamllint disable-line rule:line-length
    image: pihole/pihole:2022.04.1@sha256:91fbceda5406e63ffdfb807324d48d42f0bee8041396fbfd581067af303424ea # editorconfig-checker-disable-line
    container_name: pihole
    environment:
      TZ: Europe/London
      WEBPASSWORD: ${PIHOLE_WEBPASSWORD}
    volumes:
      - /docker/configs/dns/pihole/etc-pihole/:/etc/pihole/
      - /docker/configs/dns/pihole/etc-dnsmasq.d/:/etc/dnsmasq.d/
      - /docker/configs/dns/pihole/var-log/pihole.log:/var/log/pihole.log
    ports:
      - "53:53"
      - "53:53/udp"
      - "80:80"
      - "443:443"
    dns:
      - 127.0.0.1
      - 8.8.8.8
    restart: always
